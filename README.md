# JavaBackend_Project3

---
## Java Shop API Backend

> Данный проект представляет собой backend REST API, разработанный на Java с использованием Spring Boot, предназначенный для реализации функциональности интернет-магазина. Проект также включает в себя конфигурацию инфраструктуры с Docker и настройку веб-сервера Nginx для балансировки нагрузки, обратного проксирования, кэширования и HTTPS.

### Технологии

* Java 17
* Spring Boot 3.3.5
* Spring Web
* Spring Data JPA
* Spring Validation
* Lombok
* PostgreSQL
* H2 (для тестирования)
* OpenAPI (Swagger)
* AssertJ (для тестов)
* Docker
* Docker Compose
* Nginx
* pgAdmin

### Архитектура приложения

Приложение развёрнуто в контейнерах Docker, использует PostgreSQL как основную базу данных и поддерживает работу нескольких инстансов приложения с различными правами доступа к базе (основной и режимы "только чтение").

### Структура Docker Compose

* backend-app — основной инстанс приложения (полный доступ к базе данных)
* backend-app-readonly-1 и backend-app-readonly-2 — инстансы приложения с правами доступа только на чтение
* database — PostgreSQL 15
* nginx — веб-сервер с настройкой балансировки нагрузки и проксирования запросов
* pgadmin — инструмент GUI для администрирования базы данных

### Конфигурация Nginx

Настройки включают в себя:

* Балансировка запросов (round-robin с весами 2:1:1 для основного и двух readonly-серверов)
* Проксирование API-запросов с отдельной маршрутизацией на /api и /api/v1
* Кэширование запросов
* GZIP-компрессия (исключая медиа-файлы)
* Самоподписанный SSL/TLS сертификат для HTTPS
* Отдача статического контента (index.html, изображения и пр.)
* Мониторинг состояния через /status
* Доступ к интерфейсу pgAdmin по /admin
  
### Особенности

* HTTPS доступ с самоподписанным сертификатом.
* Эффективная балансировка нагрузки и обратное проксирование.
* Кэширование для ускорения работы сервиса.
* Поддержка документации API через Swagger UI.

### Документация API

> Swagger UI доступен по ссылке: https://localhost/api/v1/swagger-ui/index.html